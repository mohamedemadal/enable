import{aa as Q,ab as W,T as i,ac as X,a3 as Z,ad as ee,r,ae as le,o as p,d as b,e as s,f as a,w as d,i as g,x as te,t as n,h as D,g as k,c as w,D as I}from"./main-e6ca79c6.js";const ae={class:"grid"},se={class:"col-12"},oe={class:"my-2"},ie={style:{},class:"shadow-xl"},ne={class:"flex w-full justify-between align-items-center"},de={class:"m-0 my-auto"},ue={class:"block mt-2 md:mt-0 p-input-icon-left"},re=s("i",{class:"pi pi-search"},null,-1),ce={class:"flex align-items-center justify-content-center"},me=s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ve={key:0},pe={class:"flex flex-column gap-2"},he={class:"w-full text-right",for:"username"},fe={key:0,class:"mt-1 mb-5 text-red-500"},be={class:"flex flex-column gap-2"},_e={style:{"text-align":"right !important"},for:"username"},ye={key:0,class:"mt-1 mb-5 text-red-500"},ge={class:"w-full text-center"},ke={class:"flex flex-column gap-2"},we={class:"w-full text-right",for:"username"},$e={key:0,class:"mt-1 mb-5 text-red-500"},xe={class:"flex flex-column gap-2"},Ce={style:{"text-align":"right !important"},for:"username"},Ve={key:0,class:"mt-1 mb-5 text-red-500"},De={class:"w-full text-center"},Me={__name:"index",setup(Te){const T=Q();W();const P=i(!0),U=i({}),u=i(""),B=i(null);i(!1);const _=i(!1),$=i(""),N=i(null),Y=i(null),x=i({}),h=i(!1),o=i({}),f=i(!1);X(()=>{O()});const C=()=>{w.get("/api/holidays").then(e=>{P.value=!1,B.value=e.data.data,console.log(B.value)})};Z(()=>{C()});const j=e=>{w.get(`/api/holidays/${e}`).then(t=>{o.value=t.data.data}),$.value=e,f.value=!f.value},R=()=>{o.value.date=I(o.value.dat).format("YYYY-MM-DD"),w.put(`/api/holidays/${$.value}`,o.value).then(e=>{console.log(e.data),C(),f.value=!f.value,T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),o.value=i({})}).catch(e=>{u.value=e.response.data.errors})},F=()=>{h.value=!h.value,skill.value={}},q=e=>{console.log(e),_.value=!0,$.value=e},A=()=>{o.value.date=I(o.value.dat).format("YYYY-MM-DD"),w.post("/api/holidays",o.value).then(e=>{console.log(e.data),C(),h.value=!h.value,T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),o.value=i({})}).catch(e=>{u.value=e.response.data.errors})},z=()=>{w.delete(`/api/holidays/${$.value}`).then(e=>{console.log(e.data),_.value=!1,C(),T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},E=()=>{Y.value.exportCSV()},O=()=>{x.value={global:{value:null,matchMode:ee.CONTAINS}}};return(e,t)=>{const c=r("Button"),G=r("Toolbar"),H=r("Toast"),M=r("InputText"),V=r("Column"),J=r("DataTable"),S=r("Dialog"),L=r("Calendar"),K=r("va-card"),y=le("can");return p(),b("div",ae,[s("div",se,[a(K,{class:"card"},{default:d(()=>[a(G,{class:"mb-4 shadow-md"},{start:d(()=>[s("div",oe,[g(a(c,{label:e.$t("holiday_add"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:F},null,8,["label"]),[[y,"skills create"]])])]),end:d(()=>[g(a(c,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:t[0]||(t[0]=l=>E(l))},null,8,["label"]),[[y,"skills list"]])]),_:1}),a(H),s("div",ie,[g((p(),te(J,{ref_key:"dt",ref:Y,selection:N.value,"onUpdate:selection":t[2]||(t[2]=l=>N.value=l),value:B.value,loading:P.value,"data-key":"id",paginator:!0,rows:10,filters:x.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:d(()=>[s("div",ne,[s("h5",de,n(e.$t("holidays")),1),s("div",null,[s("span",ue,[re,a(M,{modelValue:x.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=l=>x.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:d(()=>[a(V,{"selection-mode":"multiple","header-style":"width: 3rem"}),a(V,{field:"title",header:e.$t("title"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:d(l=>[D(n(l.data.title),1)]),_:1},8,["header"]),a(V,{field:"holiday_date",header:e.$t("holiday_date"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:d(l=>[D(n(l.data.date),1)]),_:1},8,["header"]),a(V,{"header-style":"min-width:10rem;"},{body:d(l=>[s("div",null,[g(a(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:m=>j(l.data.id)},null,8,["onClick"]),[[y,"skills edit"]]),g(a(c,{icon:"pi pi-trash",class:"delete mt-2",onClick:m=>q(l.data.id)},null,8,["onClick"]),[[y,"skills delete"]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[y,"skills list"]]),a(S,{visible:_.value,"onUpdate:visible":t[4]||(t[4]=l=>_.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:d(()=>[a(c,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:t[3]||(t[3]=l=>_.value=!1)},null,8,["label"]),a(c,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:z},null,8,["label"])]),default:d(()=>[s("div",ce,[me,U.value?(p(),b("span",ve,[D(n(e.$t("remove_item"))+" ",1),s("b",null,n(U.value.first_name),1),D("?")])):k("",!0)])]),_:1},8,["visible","header"]),a(S,{visible:h.value,"onUpdate:visible":t[7]||(t[7]=l=>h.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:d(()=>{var l,m;return[s("div",pe,[s("label",he,n(e.$t("title")),1),a(M,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:o.value.title,"onUpdate:modelValue":t[5]||(t[5]=v=>o.value.title=v),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(l=u.value)!=null&&l.name?(p(),b("div",fe,n(u.value.name[0]),1)):k("",!0)]),s("div",be,[s("label",_e,n(e.$t("holiday_date")),1),a(L,{style:{width:"100%"},showButtonBar:"",modelValue:o.value.date,"onUpdate:modelValue":t[6]||(t[6]=v=>o.value.date=v),modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("holiday_date")},null,8,["modelValue","placeholder"]),(m=u.value)!=null&&m.date?(p(),b("div",ye,n(u.value.date[0]),1)):k("",!0)]),s("div",ge,[a(c,{onClick:A,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),a(S,{visible:f.value,"onUpdate:visible":t[10]||(t[10]=l=>f.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:d(()=>{var l,m;return[s("div",ke,[s("label",we,n(e.$t("title")),1),a(M,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:o.value.title,"onUpdate:modelValue":t[8]||(t[8]=v=>o.value.title=v),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(l=u.value)!=null&&l.name?(p(),b("div",$e,n(u.value.name[0]),1)):k("",!0)]),s("div",xe,[s("label",Ce,n(e.$t("holiday_date")),1),a(L,{style:{width:"100%"},showButtonBar:"",modelValue:o.value.date,"onUpdate:modelValue":t[9]||(t[9]=v=>o.value.date=v),modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("holiday_date")},null,8,["modelValue","placeholder"]),(m=u.value)!=null&&m.date?(p(),b("div",Ve,n(u.value.date[0]),1)):k("",!0)]),s("div",De,[a(c,{onClick:R,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{Me as default};
