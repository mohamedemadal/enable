import{aa as O,ab as G,T as o,ac as H,a3 as J,ad as K,r as d,ae as Q,o as m,d as g,e as a,f as s,w as n,i as L,x as W,t as i,h as y,g as T,c as k}from"./main-8fc9ab07.js";const X={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},Y={class:"col-12"},Z=a("div",{class:"my-2"},null,-1),ee={style:{},class:"shadow-xl"},le={class:"flex w-full justify-between align-items-center"},te={class:"m-0 my-auto"},se={class:"block mt-2 md:mt-0 p-input-icon-left"},ae=a("i",{class:"pi pi-search"},null,-1),oe={class:"flex align-items-center justify-content-center"},ne=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ie={key:0},re={class:"flex flex-column gap-2"},de={class:"w-full text-right",for:"username"},ue={key:0,class:"mt-1 mb-5 text-red-500"},ce={class:"w-full text-center"},me={class:"flex flex-column gap-2"},pe={class:"w-full text-right",for:"username"},ve={key:0,class:"mt-1 mb-5 text-red-500"},fe={class:"w-full text-center"},_e={__name:"Index",setup(he){const w=O();G();const P=o(!0),D=o({}),u=o(""),x=o(null);o(!1);const p=o(!1),S=o(""),B=o(null),N=o(null),v=o({}),f=o(!1),r=o({}),h=o(!1);H(()=>{F()});const b=()=>{k.post("/api/permissions").then(e=>{P.value=!1,x.value=e.data.permissions,console.log(x.value)})};J(()=>{b()});const M=()=>{k.put(`/api/skills/${S.value}`,r.value).then(e=>{console.log(e.data),b(),h.value=!h.value,w.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),r.value=o({})}).catch(e=>{u.value=e.response.data.errors})},j=()=>{k.post("/api/skills",r.value).then(e=>{console.log(e.data),b(),f.value=!f.value,w.add({severity:"success",summary:"Successful",detail:"price Created",life:3e3}),r.value=o({})}).catch(e=>{u.value=e.response.data.errors})},I=()=>{k.delete(`/api/skills/${S.value}`).then(e=>{console.log(e.data),p.value=!1,b(),w.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},R=()=>{N.value.exportCSV()},F=()=>{v.value={global:{value:null,matchMode:K.CONTAINS}}};return(e,t)=>{const c=d("Button"),q=d("Toolbar"),A=d("Toast"),$=d("InputText"),_=d("Column"),z=d("DataTable"),C=d("Dialog"),E=d("va-card"),U=Q("can");return m(),g("div",X,[a("div",Y,[s(E,{class:"card"},{default:n(()=>[s(q,{class:"mb-4 shadow-md"},{start:n(()=>[Z]),end:n(()=>[L(s(c,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:t[0]||(t[0]=l=>R(l))},null,8,["label"]),[[U,"permissions list"]])]),_:1}),s(A),a("div",ee,[L((m(),W(z,{ref_key:"dt",ref:N,selection:B.value,"onUpdate:selection":t[2]||(t[2]=l=>B.value=l),value:x.value,loading:P.value,"data-key":"id",paginator:!0,rows:10,filters:v.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:n(()=>[a("div",le,[a("h5",te,i(e.$t("permissions")),1),a("div",null,[a("span",se,[ae,s($,{modelValue:v.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=l=>v.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:n(()=>[s(_,{"selection-mode":"multiple","header-style":"width: 3rem"}),s(_,{field:"index",header:e.$t("index"),sortable:!0,"header-style":"width:14%; min-width:15rem;",class:"ltr:text-justify"},{body:n(l=>[y(i(l.data.id),1)]),_:1},8,["header"]),s(_,{field:"name",header:e.$t("name"),sortable:!0,"header-style":"width:14%; min-width:15rem;",class:"ltr:text-justify"},{body:n(l=>[y(i(l.data.name),1)]),_:1},8,["header"]),s(_,{"header-style":"min-width:10rem;"},{body:n(l=>[]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[U,"permissions list"]]),s(C,{visible:p.value,"onUpdate:visible":t[4]||(t[4]=l=>p.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:n(()=>[s(c,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:t[3]||(t[3]=l=>p.value=!1)},null,8,["label"]),s(c,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:I},null,8,["label"])]),default:n(()=>[a("div",oe,[ne,D.value?(m(),g("span",ie,[y(i(e.$t("remove_item"))+" ",1),a("b",null,i(D.value.first_name),1),y("?")])):T("",!0)])]),_:1},8,["visible","header"]),s(C,{visible:f.value,"onUpdate:visible":t[6]||(t[6]=l=>f.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l;return[a("div",re,[a("label",de,i(e.$t("skill_name")),1),s($,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:r.value.name,"onUpdate:modelValue":t[5]||(t[5]=V=>r.value.name=V),placeholder:e.$t("skill_name")},null,8,["modelValue","placeholder"]),(l=u.value)!=null&&l.name?(m(),g("div",ue,i(u.value.name[0]),1)):T("",!0)]),a("div",ce,[s(c,{onClick:j,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),s(C,{visible:h.value,"onUpdate:visible":t[8]||(t[8]=l=>h.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l;return[a("div",me,[a("label",pe,i(e.$t("skill_name")),1),s($,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:r.value.name,"onUpdate:modelValue":t[7]||(t[7]=V=>r.value.name=V),placeholder:e.$t("skill_name")},null,8,["modelValue","placeholder"]),(l=u.value)!=null&&l.name?(m(),g("div",ve,i(u.value.name[0]),1)):T("",!0)]),a("div",fe,[s(c,{onClick:M,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{_e as default};
