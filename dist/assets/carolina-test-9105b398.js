import{_ as z,c,r as u,o as l,d as a,f as i,w as v,x as A,V as L,g as d,e as o,E as Q,t as n,P as R,F as h,z as w,h as q,X,Q as j,R as G}from"./main-5c230208.js";import{E as H}from"./EvaluationType-a95c1c0d.js";import{V as J}from"./VForm-e6a27fce.js";const K={components:{EvaluationType:H},data(){return{change:{status:"1"},strart_evaluate:!1,alert_text:"",answers:{answers:[]},type:5,allanswer:{},answer:{color:"00a2ff"},allquestion:[],childs:{},category:{},error:{},maxDate:new Date,notanswer:[]}},methods:{Therapeutic(){this.$router.push({name:"answer"})},getanswerscore(e,s,f){this.answers.answers[s]={answer_type_id:f,test_id:s,color:this.answer.color,child_id:this.answer.child_id,date:this.answer.date,child_age:this.answer.child_age,evaluation_id:this.answer.evaluation_id},console.log(this.answers.answers)},createevalutae(e){console.log(e),c.post("api/evaluations/create",{type:this.type,title:this.answer.title,child_id:this.answer.child_id,specialist_id:localStorage.getItem("user_id"),date:this.answer.date}).then(s=>{this.answer.evaluation_id=s.data.evaluation.id,this.strart_evaluate=!this.strart_evaluate})},anserdata(e,s){console.log(e),console.log(s)},getcolor(e){this.answer.color=e.target.value},getquation(e){c.get(`api/mileston-levels/get-all-by-subtest/${e}`).then(s=>{console.log(s.data[0].subtests),this.allquestion=s.data[0].subtests})},getall(){c.get("api/carolina-answer-type").then(e=>{this.allanswer=e.data.data})},getage(){c.post("api/milestone-answers/get-age-child",{date:this.answer.date,child_id:this.answer.child_id}).then(e=>{this.answer.child_age=e.data})},getanswer(e,s,f){c.post("/api/carolina-answer",this.answers).then(b=>{c.post(`/api/evaluation-request/change-status/${localStorage.getItem("eavl_id")}`,this.change),this.$router.push({name:"carolina-resulte",params:{id:this.answer.evaluation_id}})}).catch(b=>{this.alert_text="please answer all questions",setTimeout(()=>{this.alert_text=""},2500)})},getusers(){c.get("api/child").then(e=>{this.childs=e.data.children,this.answer.child_id=parseInt(localStorage.getItem("child_id")),this.answer.evaluation_id=parseInt(this.$route.params.evaluation)}),c.get("api/carolina-category/list/tests").then(e=>{console.log(e.data.data),this.category=e.data.data})},createtreatment(){c.post("/api/milestone-answers/check/answers",{child_id:this.answer.child_id,level_id:this.answer.level_id}).then(e=>{console.log(e.data.data),this.notanswer=e.data.data,this.notanswer==""&&this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{console.log(e.response.data.errors.name),this.error=e.response.data.errors})}},mounted(){this.getusers(),this.getall()}},B=e=>(j("data-v-445dbed8"),e=e(),G(),e),O=B(()=>o("div",null,null,-1)),W={class:"flex flex-column gap-2"},Y={for:"username"},Z={key:0,class:"mt-1 mb-5 text-red-500"},$={class:"flex flex-column gap-2"},ee={for:"username"},te={key:0,class:"mt-1 mb-5 text-red-500"},se={key:0,class:"flex flex-column gap-2"},le={for:"username"},ae={key:0,class:"mt-1 mb-5 text-red-500"},oe={key:1,class:"flex flex-column gap-2"},re={for:"username"},ne={key:0,class:"mt-1 mb-5 text-red-500"},ie={key:2,class:"flex flex-column gap-2"},de={for:"username"},ce={class:"flex"},ue={key:0,class:"mt-1 mb-5 text-red-500"},he={class:"col-span-2 flex flex-column gap-2"},_e={class:"text-[black] font-bold"},me={style:{border:"1px solid black","border-radius":"5px",padding:"1%"}},pe={style:{"border-bottom":"1px solid black !important"},class:"py-1 text-[black] font-bold",for:"username"},ge={class:""},we={class:"flex"},fe=["onChange","name"],ve={key:4,class:"flex flex-column gap-2 w-full"},be={style:{visibility:"hidden"},for:"username"},ye=B(()=>o("small",{id:"username-help"},null,-1));function xe(e,s,f,b,t,_){const T=u("InputText"),F=u("Dropdown"),N=u("Calendar"),U=u("InputNumber"),E=u("ColorPicker"),y=u("Button"),M=u("sapn"),P=u("toast");return l(),a(h,null,[O,i(X,null,{default:v(()=>[t.alert_text?(l(),A(L,{key:0,title:"Alert title",text:t.alert_text,closable:"",type:"error",class:"absolute w-full"},null,8,["text"])):d("",!0),o("div",null,[i(J,{style:{"max-height":"80vh","overflow-y":"scroll"},"fast-fail":"",ref:"form",onSubmit:Q(e.submit,["prevent"]),class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4"},{default:v(()=>{var x,k,V,C,I;return[o("div",W,[o("label",Y,n(e.$t("evaluation_name")),1),i(T,{required:"",class:"bg-[#f7f5f5]",modelValue:t.answer.title,"onUpdate:modelValue":s[0]||(s[0]=r=>t.answer.title=r),placeholder:e.$t("evaluation_name")},null,8,["modelValue","placeholder"]),(x=t.error)!=null&&x.title?(l(),a("div",Z,n(t.error.title[0]),1)):d("",!0)]),o("div",$,[o("label",ee,n(e.$t("child_name")),1),i(F,{disabled:"",filter:"",required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.answer.child_id,"onUpdate:modelValue":s[1]||(s[1]=r=>t.answer.child_id=r),"option-value":"id",options:t.childs,optionLabel:"name",placeholder:e.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(k=t.error)!=null&&k.child_id?(l(),a("div",te,n(t.error.child_id[0]),1)):d("",!0)]),t.answer.child_id?(l(),a("div",se,[o("label",le,n(e.$t("date")),1),i(N,{"onUpdate:modelValue":[_.getage,s[2]||(s[2]=r=>t.answer.date=r)],style:{width:"100%"},showButtonBar:"",modelValue:t.answer.date,modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("date"),minDate:t.maxDate},null,8,["onUpdate:modelValue","modelValue","placeholder","minDate"]),(V=t.error)!=null&&V.child_age?(l(),a("div",ae,n(t.error.child_age[0]),1)):d("",!0)])):d("",!0),t.answer.date?(l(),a("div",oe,[o("label",re,n(e.$t("age")),1),i(U,{readonly:"",required:"",class:"bg-[#f7f5f5]",modelValue:t.answer.child_age,"onUpdate:modelValue":s[3]||(s[3]=r=>t.answer.child_age=r),placeholder:e.$t("age")},null,8,["modelValue","placeholder"]),(C=t.error)!=null&&C.child_age?(l(),a("div",ne,n(t.error.child_age[0]),1)):d("",!0)])):d("",!0),t.answer.child_id&&t.answer.child_age?(l(),a("div",ie,[o("label",de,n(e.$t("color")),1),o("div",ce,[i(E,{style:R({"background-color":"#"+t.answer.color}),class:"w-full h-[50px]",modelValue:t.answer.color,"onUpdate:modelValue":s[4]||(s[4]=r=>t.answer.color=r)},null,8,["style","modelValue"]),i(y,{onClick:_.createevalutae,class:"create m-auto w-full h-[50px]",label:e.$t("strart_evaluate")},null,8,["onClick","label"])]),(I=t.error)!=null&&I.color?(l(),a("div",ue,n(t.error.color[0]),1)):d("",!0)])):d("",!0),t.strart_evaluate?(l(!0),a(h,{key:3},w(t.category,(r,ke)=>(l(),a("div",he,[o("h1",_e,n(r.title),1),o("div",me,[(l(!0),a(h,null,w(r.tests,(Ve,m)=>{var S,D;return l(),a("div",null,[o("h2",pe,n((S=r.tests[m])==null?void 0:S.skill),1),(l(!0),a(h,null,w((D=r.tests[m])==null?void 0:D.goals,(p,g)=>(l(),a("div",{style:{"border-radius":"5px",padding:"1%"},class:"",key:g},[o("p",ge,n(g+1)+" - "+n(p.body)+":",1)]))),128)),o("div",we,[(l(!0),a(h,null,w(t.allanswer,p=>(l(),a("div",null,[o("input",{required:"",onChange:g=>_.getanswerscore(g,r.tests[m].id,p.id),style:{border:"1px solid black"},class:"mx-2",name:r.tests[m].id,type:"radio",value:"0"},null,40,fe),q(" Â  "),i(M,{for:"html"},{default:v(()=>[q(n(p.name),1)]),_:2},1024)]))),256))])])}),256))])]))),256)):d("",!0),t.strart_evaluate?(l(),a("div",ve,[o("label",be,n(e.$t("gruop_sessaion")),1),i(y,{onClick:_.getanswer,class:"create m-auto w-full",label:e.$t("submit")},null,8,["onClick","label"]),ye])):d("",!0)]}),_:1},8,["onSubmit"]),i(P)])]),_:1})],64)}const De=z(K,[["render",xe],["__scopeId","data-v-445dbed8"]]);export{De as default};
