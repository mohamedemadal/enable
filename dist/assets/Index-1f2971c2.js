import{aa as z,ab as O,T as n,u as q,ac as G,a3 as H,ad as J,r as d,o as k,d as $,e as a,f as l,w as s,t as r,h as m,g as K,c as x}from"./main-037d78f7.js";const Q={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},W={class:"col-12"},X={class:"my-2"},Y={style:{},class:"shadow-xl"},Z={class:"flex w-full justify-between align-items-center"},ee={class:"m-0 my-auto"},te={class:"block mt-2 md:mt-0 p-input-icon-left"},le=a("i",{class:"pi pi-search"},null,-1),ae={class:"flex align-items-center justify-content-center"},se=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),oe={key:0},de={__name:"Index",setup(ne){const T=z(),c=O(),f=n(!0),b=n({});n("");const v=n(null);n(!1);const u=n(!1),g=n(""),y=n(null),w=n(null),h=n({}),V=q("child_id",Number);G(()=>{I()});const C=()=>{console.log(c.currentRoute._rawValue.fullPath),x.get("/api/child").then(e=>{f.value=!1,v.value=e.data.children,console.log(v.value)})};H(()=>{C()});const D=e=>{c.push({name:"EditChildren",params:{id:e}})},N=e=>{c.push({name:"ShowChildren",params:{id:e}})},S=()=>{c.push({name:"CreateChildren"})},P=e=>{V.value=e,c.push({name:"children-detailes"})},B=e=>{console.log(e),u.value=!0,g.value=e},L=()=>{x.delete(`/api/child/${g.value}/delete`).then(e=>{console.log(e.data),u.value=!1,C(),T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},j=()=>{w.value.exportCSV()},I=()=>{h.value={global:{value:null,matchMode:J.CONTAINS}}};return(e,o)=>{const i=d("Button"),M=d("Toolbar"),R=d("Toast"),F=d("InputText"),p=d("Column"),U=d("DataTable"),A=d("Dialog"),E=d("va-card");return k(),$("div",Q,[a("div",W,[l(E,{class:"card"},{default:s(()=>[l(M,{class:"mb-4 shadow-md"},{start:s(()=>[a("div",X,[l(i,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:S},null,8,["label"])])]),end:s(()=>[l(i,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:o[0]||(o[0]=t=>j(t))},null,8,["label"])]),_:1}),l(R),a("div",Y,[l(U,{ref_key:"dt",ref:w,selection:y.value,"onUpdate:selection":o[2]||(o[2]=t=>y.value=t),value:v.value,loading:f.value,"data-key":"id",paginator:!0,rows:10,filters:h.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:s(()=>[a("div",Z,[a("h5",ee,r(e.$t("children")),1),a("div",null,[a("span",te,[le,l(F,{modelValue:h.value.global.value,"onUpdate:modelValue":o[1]||(o[1]=t=>h.value.global.value=t),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:s(()=>[l(p,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(p,{field:"id",header:e.$t("index"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:s(t=>[m(r(t.data.id),1)]),_:1},8,["header"]),l(p,{field:"name",header:e.$t("child_name"),sortable:!0,"header-style":"width:17%; min-width:10rem;",class:"ltr:text-justify"},{body:s(t=>[m(r(t.data.name),1)]),_:1},8,["header"]),l(p,{field:"birth_date",header:e.$t("birth_date"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:s(t=>[m(r(t.data.birth_date),1)]),_:1},8,["header"]),l(p,{"header-style":"min-width:10rem;"},{body:s(t=>[a("div",null,[l(i,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:_=>D(t.data.id)},null,8,["onClick"]),l(i,{icon:"pi pi-eye",class:"details mt-2",onClick:_=>N(t.data.id)},null,8,["onClick"]),l(i,{icon:"pi pi-user",class:"show mt-2",onClick:_=>P(t.data.id)},null,8,["onClick"]),l(i,{icon:"pi pi-trash",class:"delete mt-2",onClick:_=>B(t.data.id)},null,8,["onClick"])])]),_:1})]),_:1},8,["selection","value","loading","filters"]),l(A,{visible:u.value,"onUpdate:visible":o[4]||(o[4]=t=>u.value=t),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:s(()=>[l(i,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:o[3]||(o[3]=t=>u.value=!1)},null,8,["label"]),l(i,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:L},null,8,["label"])]),default:s(()=>[a("div",ae,[se,b.value?(k(),$("span",oe,[m(r(e.$t("remove_item"))+" ",1),a("b",null,r(b.value.first_name),1),m("?")])):K("",!0)])]),_:1},8,["visible","header"])])]),_:1})])])}}};export{de as default};
